/*
Copyright (c) 2018 Daybrush
license: MIT
author: Daybrush
repository: https://github.com/daybrush/shape-svg
@version 0.2.0
*/
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("@daybrush/utils")):"function"==typeof define&&define.amd?define(["@daybrush/utils"],i):t.Shape=i(t.utils)}(this,function(N){"use strict";var W=function(){return(W=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++)for(var o in i=arguments[e])Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);return t}).apply(this,arguments)};var A="__shape-svg";function o(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function E(t,i){for(var e in i)t.setAttribute(e,i[e])}function _(t){for(var i=t.left,e=void 0===i?0:i,n=t.top,o=void 0===n?0:n,r=t.side,a=void 0===r?3:r,s=t.rotate,h=void 0===s?0:s,d=t.innerRadius,u=void 0===d?100:d,p=t.height,f=void 0===p?0:p,l=t.split,v=void 0===l?1:l,c=t.width,M=void 0===c?f?0:100:c,m=t.strokeLinejoin,y=void 0===m?"round":m,g=t.strokeWidth,w=void 0===g?0:g,b=[],j=[],P=Math.cos(Math.PI/a),O=Math.PI/180*h+Math.PI*((a%2?0:1/a)-.5),k=0;k<a;++k){var I=Math.PI*(1/a*2*k)+O,x=Math.cos(I),R=Math.sin(I);if(b.push(x),j.push(R),100!==u){if(P<=u/100)continue;b.push(u/100*Math.cos(I+Math.PI/a)),j.push(u/100*Math.sin(I+Math.PI/a))}}var L=Math.min.apply(Math,b),S=Math.min.apply(Math,j),C=Math.max.apply(Math,b),N=Math.max.apply(Math,j),W=!!M?M/(C-L):f/(N-S),A="miter"===y||"arcs"===y||"miter-clip"===y,E=Math.sin(Math.PI/a),_=Math.min(P,u/100),q=W*_,B=w/2/(P===_?1:Math.sin(Math.atan(E/(P-_)))),T=A?(q+B)/q:1,V=A?0:w/2;b=b.map(function(t){return(t-L*T)*W+V}),j=j.map(function(t){return(t-S*T)*W+V});var Z=(C-L)*T*W+2*V,z=(N-S)*T*W+2*V,D=b.length,F=[];F.push([e+b[0],o+j[0]]);for(k=1;k<=D;++k)for(var G=b[k-1],H=j[k-1],J=b[k===D?0:k],K=j[k===D?0:k],Q=1;Q<=v;++Q){var U=(G*(v-Q)+J*Q)/v,X=(H*(v-Q)+K*Q)/v;F.push([e+U,o+X])}return{points:F,width:Z,height:z}}function q(t){return t.map(function(t,i){return(0===i?"M":"L")+" "+t.join(" ")}).join(" ")+" Z"}function r(t,i,e){var n=i.left,o=void 0===n?0:n,r=i.top,a=void 0===r?0:r,s=i.right,h=void 0===s?0:s,d=i.bottom,u=void 0===d?0:d,p=i.side,f=i.split,l=i.rotate,v=i.innerRadius,c=i.height,M=i.width,m=i.fill,y=void 0===m?"transparent":m,g=i.strokeLinejoin,w=void 0===g?"round":g,b=i.strokeWidth,j=void 0===b?0:b,P=i.css,O=void 0!==P&&P,k=i.className,I=function(t,i){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)i.indexOf(n[o])<0&&(e[n[o]]=t[n[o]])}return e}(i,["left","top","right","bottom","side","split","rotate","innerRadius","height","width","fill","strokeLinejoin","strokeWidth","css","className"]),x=_({left:o,top:a,split:f,side:p,rotate:l,width:M,height:c,innerRadius:v,strokeLinejoin:w,strokeWidth:j}),R=x.points,L=x.width,S=x.height;e&&N.hasClass(e,A)&&(k&&N.addClass(e,k),e.setAttribute("viewBox","0 0 "+(o+L+h)+" "+(a+S+u)));var C=q(R);O?function(t,i){var e=[];for(var n in i)e.push(n+":"+i[n]+";");t.style.cssText+=e.join("")}(t,{d:"path('"+C+"')"}):E(t,{d:C}),E(t,W({fill:y,"stroke-linejoin":w,"stroke-width":""+j},I))}function a(t,i){var e;void 0===i&&(e=o("svg"),N.addClass(e,A),i=e);var n=o("path");return r(n,t,i),i.appendChild(n),i}return{getRect:_,getPath:q,be:r,star:function(t,i){var e=t.side,n=void 0===e?3:e,o=t.innerRadius,r=void 0===o?60*Math.cos(Math.PI/n):o;return a(W({},t,{innerRadius:r}),i)},poly:a,VERSION:"0.2.0"}});
//# sourceMappingURL=shapesvg.min.js.map
